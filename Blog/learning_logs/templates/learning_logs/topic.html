{% extends "learning_logs/base.html" %}
{% load django_bootstrap5 %}

{% block content %}
  <div class="container mt-4">
    <div class="card shadow-sm border-0 mb-4">
      <div class="card-body bg-light d-flex justify-content-between align-items-center">
        <h3 class="mb-0 text-primary">Topic: {{ topic.text }}</h3>
        
        <a href="{% url 'learning_logs:new_entry' topic.id %}" class="btn btn-success px-4">
          Add New Entry
        </a>
      </div>
    </div>

    {% for entry in entries %}
      <div class="card shadow-sm mb-3 border-start border-4 border-primary">
        <div class="card-header bg-white d-flex justify-content-between align-items-center">
          <small class="text-muted fw-bold">{{ entry.date_added|date:'M d, Y H:i' }}</small>
          <div class="btn-group">
            <a href="{% url 'learning_logs:edit_entry' entry.id %}" class="btn btn-sm btn-outline-secondary">Edit</a>
            <a href="{% url 'learning_logs:delete_entry' entry.id %}" class="btn btn-sm btn-outline-danger ms-1">Delete</a>
          </div>
        </div>
        <div class="card-body">
          <p class="card-text" style="white-space: pre-wrap;">{{ entry.text }}</p>
        </div>
      </div>
    {% empty %}
      <div class="alert alert-info shadow-sm">
        此主题下暂无任何笔记。点击上方的按钮添加第一条笔记吧！
      </div>
    {% endfor %}
  </div>
{% endblock content %}